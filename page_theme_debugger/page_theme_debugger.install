<?php

/**
 * @file
 * Install, update and uninstall functions for the page_theme_debugger module.
 */


/**
 * Implements hook_install().
 */
function page_theme_debugger_install() {

  db_update('system')
    ->fields(array('weight' => 1000))
    ->condition('name', 'page_theme_debugger')
    ->condition('type', 'module')
    ->execute();
}


/**
 * Implements hook_update_N().
 *
 * Move module settings from variables to config.
 */
function page_theme_debugger_update_1000() {

  // Migrate variables to config.
  $config = config('page_theme_debugger.settings');
  $config->set('blacklist', update_variable_get('page_theme_debugger_blacklist', "ctools\nog\nviews"));
  $config->save();

  // Delete variables.
  update_variable_del('page_theme_debugger_blacklist');
}
